<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GPUGraphLayout: src/graph_viewer.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GPUGraphLayout
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('graph__viewer_8cpp.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">graph_viewer.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &quot;<a class="el" href="RPCommon_8hpp_source.html">RPCommon.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RPGraph_8hpp_source.html">RPGraph.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RPGraphLayout_8hpp_source.html">RPGraphLayout.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RPCPUForceAtlas2_8hpp_source.html">RPCPUForceAtlas2.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scoda_8hpp_source.html">scoda.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for graph_viewer.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="graph__viewer_8cpp__incl.png" border="0" usemap="#src_2graph__viewer_8cpp" alt=""/></div>
<map name="src_2graph__viewer_8cpp" id="src_2graph__viewer_8cpp">
<area shape="rect"  title=" " alt="" coords="342,5,501,32"/>
<area shape="rect"  title=" " alt="" coords="312,155,379,181"/>
<area shape="rect"  title=" " alt="" coords="403,155,474,181"/>
<area shape="rect"  title=" " alt="" coords="148,453,207,480"/>
<area shape="rect"  title=" " alt="" coords="1054,80,1122,107"/>
<area shape="rect"  title=" " alt="" coords="498,155,571,181"/>
<area shape="rect"  href="RPCommon_8hpp.html" title=" " alt="" coords="215,379,342,405"/>
<area shape="rect"  href="RPGraph_8hpp.html" title=" " alt="" coords="401,379,508,405"/>
<area shape="rect"  href="RPGraphLayout_8hpp.html" title=" " alt="" coords="135,304,286,331"/>
<area shape="rect"  href="RPCPUForceAtlas2_8hpp.html" title=" " alt="" coords="161,80,332,107"/>
<area shape="rect"  href="scoda_8hpp.html" title=" " alt="" coords="589,80,677,107"/>
<area shape="rect"  title=" " alt="" coords="423,453,486,480"/>
<area shape="rect"  title=" " alt="" coords="723,453,847,480"/>
<area shape="rect"  href="RPForceAtlas2_8hpp.html" title=" " alt="" coords="145,155,287,181"/>
<area shape="rect"  href="RPLayoutAlgorithm_8hpp.html" title=" " alt="" coords="145,229,319,256"/>
<area shape="rect"  href="RPBarnesHutApproximator_8hpp.html" title=" " alt="" coords="310,304,533,331"/>
<area shape="rect"  title=" " alt="" coords="746,155,817,181"/>
<area shape="rect"  title=" " alt="" coords="841,155,927,181"/>
<area shape="rect"  title=" " alt="" coords="596,155,671,181"/>
</map>
</div>
</div>
<p><a href="graph__viewer_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graph__viewer_8cpp.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Entry point for executable. CPU or GPU. </p>
<p>This currently fails if the inpath exists but is not an actual file. It loads 0 edges and 0 nodes and then CUDA has a memory access failure.</p>
<p>&lt; Map is used since node_ids are not necessarily sequentially complete. Stack allocation.</p>
<p>&lt; Currently the streaming algorithm is required to also initialize any UGraph datastructures that are required.</p>
<p>Lambda function using capture-by-reference to access all outer scope variables with the same symbol. <a href="https://stackoverflow.com/questions/4324763/can-we-have-functions-inside-functions-in-c">https://stackoverflow.com/questions/4324763/can-we-have-functions-inside-functions-in-c</a></p>
<p>Reverted to older version after multiple issues with the line intended to extract the basename of the network</p>
<p>Implementation in either <a class="el" href="RPGPUForceAtlas2_8cu.html">RPGPUForceAtlas2.cu</a> or <a class="el" href="RPCPUForceAtlas2_8cpp.html">RPCPUForceAtlas2.cpp</a></p>
<p>Initial layout will be produced from community graph.</p>
<p>Expansion: Use setCoordinates(node_id, coordinate(x,y)); to expand the community layout to a full graph layout.</p>
<p>&lt; Set the nodes id to be that of it's community.</p>
<p>Second layout with full graph.</p>

<p class="definition">Definition at line <a class="el" href="graph__viewer_8cpp_source.html#l00052">52</a> of file <a class="el" href="graph__viewer_8cpp_source.html">graph_viewer.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// For reproducibility.</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// srandom(1234);</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    srandom( time(NULL) );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Parse commandline arguments</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (argc &lt; 10)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Usage: graph_viewer gpu|cpu max_iterations num_snaps sg|wg scale gravity exact|approximate edgelist_path out_path [png image_w image_h|csv|bin]\n&quot;</span>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> cuda_requested = std::string(argv[1]) == <span class="stringliteral">&quot;gpu&quot;</span> or std::string(argv[1]) == <span class="stringliteral">&quot;cuda&quot;</span>; <span class="comment">// using cuda</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> max_iterations = std::stoi(argv[2]);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> num_screenshots = std::stoi(argv[3]); <span class="comment">// aka: num_snaps</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> strong_gravity = std::string(argv[4]) == <span class="stringliteral">&quot;sg&quot;</span>; <span class="comment">// strong gravity?  sg is not proportional to distance from origin.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> scale = std::stof(argv[5]); <span class="comment">// scaling for repulsion force.  paper used 80.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> gravity = std::stof(argv[6]); <span class="comment">// scaling for gravity. paper used 1.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> approximate = std::string(argv[7]) == <span class="stringliteral">&quot;approximate&quot;</span>; <span class="comment">// gpu only accepts BH approximation.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *edgelist_path = argv[8]; <span class="comment">// infile</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *out_path = argv[9]; <span class="comment">// output directory for images.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    std::string out_format = <span class="stringliteral">&quot;png&quot;</span>; <span class="comment">// default make png that is 1250x1250</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">int</span> image_w = 1250;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">int</span> image_h = 1250;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// Minor, accept multiple png vs csv args.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> arg_no = 10; arg_no &lt; argc; arg_no++)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">if</span>(std::string(argv[arg_no]) == <span class="stringliteral">&quot;png&quot;</span>)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            out_format = <span class="stringliteral">&quot;png&quot;</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            image_w = std::stoi(argv[arg_no+1]);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            image_h = std::stoi(argv[arg_no+2]);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            arg_no += 2;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(std::string(argv[arg_no]) == <span class="stringliteral">&quot;csv&quot;</span>)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            out_format = <span class="stringliteral">&quot;csv&quot;</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(std::string(argv[arg_no]) == <span class="stringliteral">&quot;bin&quot;</span>)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            out_format = <span class="stringliteral">&quot;bin&quot;</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span>(cuda_requested and not approximate)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;error: The CUDA implementation (currently) requires Barnes-Hut approximation.\n&quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Check in_path and out_path</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="RPCommon_8cpp.html#a041136f61c39ba0f88d18e72542c6eba">is_file_exists</a>(edgelist_path))</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;error: No edgelist at %s\n&quot;</span>, edgelist_path);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="RPCommon_8cpp.html#a041136f61c39ba0f88d18e72542c6eba">is_file_exists</a>(out_path))</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;error: No output folder at %s\n&quot;</span>, out_path);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// If not compiled with cuda support, check if cuda is requested.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">    #ifndef __NVCC__</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span>(cuda_requested)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;error: CUDA was requested, but not compiled for.\n&quot;</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// Load graph.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    printf(<span class="stringliteral">&quot;Opening edgelist file at &#39;%s&#39;...&quot;</span>, edgelist_path);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    fflush(stdout);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// TODO: Would loading the file into a database in memory make our subsequent loads faster, while also allowing scoda to use a randomly generated index to satisfy it&#39;s probability constraints?</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    std::fstream edgelist_file(edgelist_path, std::ifstream::in); <span class="comment">// TODO: Does this return a reference? Yes. See: https://stackoverflow.com/questions/655065/when-should-i-use-the-new-keyword-in-c and http://www.gotw.ca/gotw/009.htm</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classRPGraph_1_1UGraph.html">RPGraph::UGraph</a> full_graph = <a class="code" href="classRPGraph_1_1UGraph.html">RPGraph::UGraph</a>(); <span class="comment">// Changed back to stack allocated reference.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classRPGraph_1_1UGraph.html">RPGraph::UGraph</a> comm_graph = <a class="code" href="classRPGraph_1_1UGraph.html">RPGraph::UGraph</a>();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    std::unordered_map&lt;RPGraph::nid_t, RPGraph::nid_t&gt; nid_comm_map; </div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// TEMP VALUE!!! TODO::::</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">int</span> degree_threshold = 2; <span class="comment">// TODO: TEMP VALUE TO TEST COMPILING, should figure out some way to parameterize or detect this in the future.  Note that detection requires streaming the entire graph with the authors implementation.  We could try sampling from the first portion of the graph (say 10%) and using a default value up to that point.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> status = <a class="code" href="namespaceCommunityAlgos.html#a0b049684d243b21fd5769bf8aef849e5">CommunityAlgos::scoda</a>(degree_threshold, edgelist_file, full_graph, comm_graph, nid_comm_map); </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// TODO: We pass in regerences to the full_graph and comm_graph objects, but nothing comes back. How should these be passed?</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    edgelist_file.close();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>(status != 0){ <span class="comment">// 0 is success</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        exit(status); <span class="comment">// propgate error code.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    printf(<span class="stringliteral">&quot;Finished scoda\n&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// TODO: Get rid of this.  It works but produces a very large, sparse array, and I am not sure if the data is safe.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// RPGraph::nid_t* nid_comm_array = &amp;nid_comm_map[0]; // TODO: Figure out most efficient way to turn this unordered_map into an array.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    printf(<span class="stringliteral">&quot;done.\n&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    printf(<span class="stringliteral">&quot;    fetched %d nodes and %d edges.\n&quot;</span>, full_graph.<a class="code" href="classRPGraph_1_1UGraph.html#ad5eb18fffb7b9a64819b3f1f38305a0c">num_nodes</a>(), full_graph.<a class="code" href="classRPGraph_1_1UGraph.html#a55a5deea9a4d456e78e24a2002f31ef2">num_edges</a>());</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// Create the GraphLayout and ForceAtlas2 objects.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// TODO: how is this graph allocated? When is it freed?</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a> comm_layout = <a class="code" href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a>(comm_graph); <span class="comment">/* Produce initial layout from comm_graph. */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a>* current_layout = &amp;comm_layout; <span class="comment">/* Use pointer in lambdas that can be modified. */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classRPGraph_1_1ForceAtlas2.html">RPGraph::ForceAtlas2</a>* comm_fa2; <span class="comment">// Could be CPU or GPU object.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">bool</span> randomize = <span class="keyword">true</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">    #ifdef __NVCC__</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span>(cuda_requested)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="comment">// GPU FA2</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// TODO: Is this the correct way to initialize the value at a pointer.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        comm_fa2 = <span class="keyword">new</span> <a class="code" href="classRPGraph_1_1CUDAForceAtlas2.html">RPGraph::CUDAForceAtlas2</a>(comm_layout, approximate,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                           strong_gravity, gravity, scale, randomize);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        comm_fa2 = <span class="keyword">new</span> <a class="code" href="classRPGraph_1_1CPUForceAtlas2.html">RPGraph::CPUForceAtlas2</a>(comm_layout, approximate,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                          strong_gravity, gravity, scale, randomize);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classRPGraph_1_1ForceAtlas2.html">RPGraph::ForceAtlas2</a>* fa2 = comm_fa2;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    printf(<span class="stringliteral">&quot;Started Layout algorithm...\n&quot;</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> snap_period = ceil((<span class="keywordtype">float</span>)max_iterations/num_screenshots);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> print_period = ceil((<span class="keywordtype">float</span>)max_iterations*0.05);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">auto</span> produceOutput = [&amp;](<span class="keywordtype">int</span> iteration) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        std::string op(out_path);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        op.append(<span class="stringliteral">&quot;/&quot;</span>).append(std::to_string(iteration)).append(<span class="stringliteral">&quot;.&quot;</span>).append(out_format);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        printf(<span class="stringliteral">&quot;Starting iteration %d (%.2f%%), writing %s...&quot;</span>, iteration, 100 * (<span class="keywordtype">float</span>)iteration / max_iterations, out_format.c_str());</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        fflush(stdout);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        fa2-&gt;<a class="code" href="classRPGraph_1_1LayoutAlgorithm.html#a70f3171d513b92d44f4784ff96c848c1">sync_layout</a>(); <span class="comment">/* The same symbol is used regardless of which stage we are at. */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (out_format == <span class="stringliteral">&quot;png&quot;</span>)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="comment">// TODO: Getting error here, segmentation fault from libpng.  Not sure why.  Rerunning, might be heisenbug.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            current_layout-&gt;<a class="code" href="classRPGraph_1_1GraphLayout.html#ab5892ee9d2eba41d1f285f0e480d00e2">writeToPNG</a>(image_w, image_h, op);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_format == <span class="stringliteral">&quot;csv&quot;</span>)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            current_layout-&gt;<a class="code" href="classRPGraph_1_1GraphLayout.html#ae01b3ad2b348683c2e55d49496c32800">writeToCSV</a>(op);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_format == <span class="stringliteral">&quot;bin&quot;</span>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            current_layout-&gt;<a class="code" href="classRPGraph_1_1GraphLayout.html#a19fb67898bdb294ac46fb098ec2b0bad">writeToBin</a>(op);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        printf(<span class="stringliteral">&quot;done.\n&quot;</span>);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    };</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">auto</span> compositeStep = [&amp;](<span class="keywordtype">int</span> iteration) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        fa2-&gt;<a class="code" href="classRPGraph_1_1ForceAtlas2.html#aa448ceec8292797a6e1b61ef8e2b3744">doStep</a>();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// If we need to, write the result to a png</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (num_screenshots &gt; 0 &amp;&amp; (iteration % snap_period == 0 || iteration == max_iterations))</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            produceOutput(iteration);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">// Else we print (if we need to)</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iteration % print_period == 0)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          printf(<span class="stringliteral">&quot;Starting iteration %d (%.2f%%).\n&quot;</span>, iteration, 100*(<span class="keywordtype">float</span>)iteration/max_iterations);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    };</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iteration = 1; iteration &lt; ceil(max_iterations/2); ++iteration)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        compositeStep(iteration); <span class="comment">/* comm graph layout is produced. */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    fa2 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a> full_layout = <a class="code" href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a>(full_graph);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    current_layout = &amp;full_layout; <span class="comment">/* Use pointer in lambdas that can be modified. */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// TODO: Expansion kernel instead of sequential code called here. NOTE: kernel will require some form of array datastructure to operate on, will also have to look up the layout coordinate associated with the community_node.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; nid_commid_pair : nid_comm_map) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="namespaceRPGraph.html#ab3ae34f1ab88e48f43794c30c8697b74">RPGraph::nid_t</a> node = nid_commid_pair.first;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="namespaceRPGraph.html#ab3ae34f1ab88e48f43794c30c8697b74">RPGraph::nid_t</a> comm = nid_commid_pair.second;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="classRPGraph_1_1Coordinate.html">RPGraph::Coordinate</a> comm_coordinate = comm_layout.getCoordinate(comm_graph.<a class="code" href="classRPGraph_1_1UGraph.html#a084f2f04bcf93eb362fbf1d275a1c018">node_map</a>[comm]); <span class="comment">// TODO: add some randomness to this?? May not need to.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">// TODO: Is it possible for a node to not have a community in the graph??? Probably yes.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        full_layout.<a class="code" href="classRPGraph_1_1GraphLayout.html#a99ad68f3edff2c5f0a78a4db3e2f15ea">setCoordinates</a>(full_graph.<a class="code" href="classRPGraph_1_1UGraph.html#a084f2f04bcf93eb362fbf1d275a1c018">node_map</a>[node], comm_coordinate); </div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// TODO: Was moved here for safety.  May be able to move it above the full_layout initialization.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">delete</span> comm_fa2; <span class="comment">/* Free old comm_fa2 object when done.  This is required to deallocate GPU memory. */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    randomize = <span class="keyword">false</span>; <span class="comment">/* TEMP: Random to test duplicated code correctness. TODO: Make not random. */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="classRPGraph_1_1ForceAtlas2.html">RPGraph::ForceAtlas2</a>* full_fa2;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">    #ifdef __NVCC__</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span>(cuda_requested)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="comment">// GPU FA2</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        full_fa2 = <span class="keyword">new</span> <a class="code" href="classRPGraph_1_1CUDAForceAtlas2.html">RPGraph::CUDAForceAtlas2</a>(full_layout, approximate,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                           strong_gravity, gravity, scale, randomize);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="comment">// TODO: ERROR: malloc fails here, says &#39;invalid size&#39;</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        full_fa2 = <span class="keyword">new</span> <a class="code" href="classRPGraph_1_1CPUForceAtlas2.html">RPGraph::CPUForceAtlas2</a>(full_layout, approximate,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                          strong_gravity, gravity, scale, randomize);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    fa2 = full_fa2;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iteration = ceil(max_iterations/2); iteration &lt;= max_iterations; ++iteration)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        compositeStep(iteration); <span class="comment">/* full graph layout is produced. */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    fa2 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// TODO: Create a struct for all these related things, then can have a destructor and just delete it.</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">delete</span> full_fa2; <span class="comment">/* Free last ForceAtlas2 object. */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    exit(EXIT_SUCCESS);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="ttc" id="classRPGraph_1_1ForceAtlas2_html"><div class="ttname"><a href="classRPGraph_1_1ForceAtlas2.html">RPGraph::ForceAtlas2</a></div><div class="ttdef"><b>Definition:</b> <a href="RPForceAtlas2_8hpp_source.html#l00040">RPForceAtlas2.hpp:40</a></div></div>
<div class="ttc" id="classRPGraph_1_1GraphLayout_html_a19fb67898bdb294ac46fb098ec2b0bad"><div class="ttname"><a href="classRPGraph_1_1GraphLayout.html#a19fb67898bdb294ac46fb098ec2b0bad">RPGraph::GraphLayout::writeToBin</a></div><div class="ttdeci">void writeToBin(std::string path)</div><div class="ttdef"><b>Definition:</b> <a href="RPGraphLayout_8cpp_source.html#l00295">RPGraphLayout.cpp:295</a></div></div>
<div class="ttc" id="classRPGraph_1_1CPUForceAtlas2_html"><div class="ttname"><a href="classRPGraph_1_1CPUForceAtlas2.html">RPGraph::CPUForceAtlas2</a></div><div class="ttdef"><b>Definition:</b> <a href="RPCPUForceAtlas2_8hpp_source.html#l00031">RPCPUForceAtlas2.hpp:31</a></div></div>
<div class="ttc" id="classRPGraph_1_1LayoutAlgorithm_html_a70f3171d513b92d44f4784ff96c848c1"><div class="ttname"><a href="classRPGraph_1_1LayoutAlgorithm.html#a70f3171d513b92d44f4784ff96c848c1">RPGraph::LayoutAlgorithm::sync_layout</a></div><div class="ttdeci">virtual void sync_layout()=0</div></div>
<div class="ttc" id="classRPGraph_1_1GraphLayout_html_ab5892ee9d2eba41d1f285f0e480d00e2"><div class="ttname"><a href="classRPGraph_1_1GraphLayout.html#ab5892ee9d2eba41d1f285f0e480d00e2">RPGraph::GraphLayout::writeToPNG</a></div><div class="ttdeci">void writeToPNG(const int image_w, const int image_h, std::string path)</div><div class="ttdef"><b>Definition:</b> <a href="RPGraphLayout_8cpp_source.html#l00227">RPGraphLayout.cpp:227</a></div></div>
<div class="ttc" id="classRPGraph_1_1CUDAForceAtlas2_html"><div class="ttname"><a href="classRPGraph_1_1CUDAForceAtlas2.html">RPGraph::CUDAForceAtlas2</a></div><div class="ttdef"><b>Definition:</b> <a href="RPGPUForceAtlas2_8hpp_source.html#l00035">RPGPUForceAtlas2.hpp:35</a></div></div>
<div class="ttc" id="namespaceRPGraph_html_ab3ae34f1ab88e48f43794c30c8697b74"><div class="ttname"><a href="namespaceRPGraph.html#ab3ae34f1ab88e48f43794c30c8697b74">RPGraph::nid_t</a></div><div class="ttdeci">uint32_t nid_t</div><div class="ttdef"><b>Definition:</b> <a href="RPGraph_8hpp_source.html#l00035">RPGraph.hpp:35</a></div></div>
<div class="ttc" id="classRPGraph_1_1UGraph_html"><div class="ttname"><a href="classRPGraph_1_1UGraph.html">RPGraph::UGraph</a></div><div class="ttdef"><b>Definition:</b> <a href="RPGraph_8hpp_source.html#l00060">RPGraph.hpp:60</a></div></div>
<div class="ttc" id="classRPGraph_1_1GraphLayout_html_ae01b3ad2b348683c2e55d49496c32800"><div class="ttname"><a href="classRPGraph_1_1GraphLayout.html#ae01b3ad2b348683c2e55d49496c32800">RPGraph::GraphLayout::writeToCSV</a></div><div class="ttdeci">void writeToCSV(std::string path)</div><div class="ttdef"><b>Definition:</b> <a href="RPGraphLayout_8cpp_source.html#l00273">RPGraphLayout.cpp:273</a></div></div>
<div class="ttc" id="classRPGraph_1_1UGraph_html_a55a5deea9a4d456e78e24a2002f31ef2"><div class="ttname"><a href="classRPGraph_1_1UGraph.html#a55a5deea9a4d456e78e24a2002f31ef2">RPGraph::UGraph::num_edges</a></div><div class="ttdeci">virtual nid_t num_edges() override</div><div class="ttdef"><b>Definition:</b> <a href="RPGraph_8cpp_source.html#l00131">RPGraph.cpp:131</a></div></div>
<div class="ttc" id="classRPGraph_1_1Coordinate_html"><div class="ttname"><a href="classRPGraph_1_1Coordinate.html">RPGraph::Coordinate</a></div><div class="ttdef"><b>Definition:</b> <a href="RPCommon_8hpp_source.html#l00070">RPCommon.hpp:70</a></div></div>
<div class="ttc" id="namespaceCommunityAlgos_html_a0b049684d243b21fd5769bf8aef849e5"><div class="ttname"><a href="namespaceCommunityAlgos.html#a0b049684d243b21fd5769bf8aef849e5">CommunityAlgos::scoda</a></div><div class="ttdeci">int scoda(int degree_threshold, std::fstream &amp;edgelist_file, RPGraph::UGraph &amp;full_graph, RPGraph::UGraph &amp;comm_graph, std::unordered_map&lt; RPGraph::nid_t, RPGraph::nid_t &gt; &amp;nid_comm_map)</div><div class="ttdef"><b>Definition:</b> <a href="scoda_8cpp_source.html#l00016">scoda.cpp:16</a></div></div>
<div class="ttc" id="classRPGraph_1_1UGraph_html_a084f2f04bcf93eb362fbf1d275a1c018"><div class="ttname"><a href="classRPGraph_1_1UGraph.html#a084f2f04bcf93eb362fbf1d275a1c018">RPGraph::UGraph::node_map</a></div><div class="ttdeci">std::unordered_map&lt; nid_t, nid_t &gt; node_map</div><div class="ttdef"><b>Definition:</b> <a href="RPGraph_8hpp_source.html#l00082">RPGraph.hpp:82</a></div></div>
<div class="ttc" id="classRPGraph_1_1UGraph_html_ad5eb18fffb7b9a64819b3f1f38305a0c"><div class="ttname"><a href="classRPGraph_1_1UGraph.html#ad5eb18fffb7b9a64819b3f1f38305a0c">RPGraph::UGraph::num_nodes</a></div><div class="ttdeci">virtual nid_t num_nodes() override</div><div class="ttdef"><b>Definition:</b> <a href="RPGraph_8cpp_source.html#l00126">RPGraph.cpp:126</a></div></div>
<div class="ttc" id="RPCommon_8cpp_html_a041136f61c39ba0f88d18e72542c6eba"><div class="ttname"><a href="RPCommon_8cpp.html#a041136f61c39ba0f88d18e72542c6eba">is_file_exists</a></div><div class="ttdeci">bool is_file_exists(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="RPCommon_8cpp_source.html#l00032">RPCommon.cpp:32</a></div></div>
<div class="ttc" id="classRPGraph_1_1GraphLayout_html_a99ad68f3edff2c5f0a78a4db3e2f15ea"><div class="ttname"><a href="classRPGraph_1_1GraphLayout.html#a99ad68f3edff2c5f0a78a4db3e2f15ea">RPGraph::GraphLayout::setCoordinates</a></div><div class="ttdeci">void setCoordinates(nid_t node_id, Coordinate c)</div><div class="ttdef"><b>Definition:</b> <a href="RPGraphLayout_8cpp_source.html#l00218">RPGraphLayout.cpp:218</a></div></div>
<div class="ttc" id="classRPGraph_1_1ForceAtlas2_html_aa448ceec8292797a6e1b61ef8e2b3744"><div class="ttname"><a href="classRPGraph_1_1ForceAtlas2.html#aa448ceec8292797a6e1b61ef8e2b3744">RPGraph::ForceAtlas2::doStep</a></div><div class="ttdeci">virtual void doStep()=0</div></div>
<div class="ttc" id="classRPGraph_1_1GraphLayout_html"><div class="ttname"><a href="classRPGraph_1_1GraphLayout.html">RPGraph::GraphLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="RPGraphLayout_8hpp_source.html#l00035">RPGraphLayout.hpp:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classRPGraph_1_1ForceAtlas2.html#aa448ceec8292797a6e1b61ef8e2b3744">RPGraph::ForceAtlas2::doStep()</a>, <a class="el" href="RPCommon_8cpp_source.html#l00032">is_file_exists()</a>, <a class="el" href="RPGraph_8hpp_source.html#l00082">RPGraph::UGraph::node_map</a>, <a class="el" href="RPGraph_8cpp_source.html#l00131">RPGraph::UGraph::num_edges()</a>, <a class="el" href="RPGraph_8cpp_source.html#l00126">RPGraph::UGraph::num_nodes()</a>, <a class="el" href="scoda_8cpp_source.html#l00016">CommunityAlgos::scoda()</a>, <a class="el" href="RPGraphLayout_8cpp_source.html#l00218">RPGraph::GraphLayout::setCoordinates()</a>, <a class="el" href="classRPGraph_1_1LayoutAlgorithm.html#a70f3171d513b92d44f4784ff96c848c1">RPGraph::LayoutAlgorithm::sync_layout()</a>, <a class="el" href="RPGraphLayout_8cpp_source.html#l00295">RPGraph::GraphLayout::writeToBin()</a>, <a class="el" href="RPGraphLayout_8cpp_source.html#l00273">RPGraph::GraphLayout::writeToCSV()</a>, and <a class="el" href="RPGraphLayout_8cpp_source.html#l00227">RPGraph::GraphLayout::writeToPNG()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="graph__viewer_8cpp_a217dbf8b442f20279ea00b898af96f52_cgraph.png" border="0" usemap="#graph__viewer_8cpp_a217dbf8b442f20279ea00b898af96f52_cgraph" alt=""/></div>
<map name="graph__viewer_8cpp_a217dbf8b442f20279ea00b898af96f52_cgraph" id="graph__viewer_8cpp_a217dbf8b442f20279ea00b898af96f52_cgraph">
<area shape="rect"  title=" " alt="" coords="5,330,60,357"/>
<area shape="rect"  href="classRPGraph_1_1ForceAtlas2.html#aa448ceec8292797a6e1b61ef8e2b3744" title=" " alt="" coords="124,5,287,47"/>
<area shape="rect"  href="RPCommon_8cpp.html#a041136f61c39ba0f88d18e72542c6eba" title=" " alt="" coords="1146,363,1253,390"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#a55a5deea9a4d456e78e24a2002f31ef2" title=" " alt="" coords="368,356,540,397"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#ad5eb18fffb7b9a64819b3f1f38305a0c" title=" " alt="" coords="1113,695,1285,736"/>
<area shape="rect"  href="namespaceCommunityAlgos.html#a0b049684d243b21fd5769bf8aef849e5" title=" " alt="" coords="115,154,295,181"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a99ad68f3edff2c5f0a78a4db3e2f15ea" title=" " alt="" coords="121,239,290,280"/>
<area shape="rect"  href="classRPGraph_1_1LayoutAlgorithm.html#a70f3171d513b92d44f4784ff96c848c1" title=" " alt="" coords="108,407,303,448"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a19fb67898bdb294ac46fb098ec2b0bad" title=" " alt="" coords="878,356,1047,397"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#ae01b3ad2b348683c2e55d49496c32800" title=" " alt="" coords="878,473,1047,515"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#ab5892ee9d2eba41d1f285f0e480d00e2" title=" " alt="" coords="121,617,290,659"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#a79bc283af0140126badfde808b050838" title=" " alt="" coords="351,122,557,149"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#a9a3fd5f05e11b197e207561788c33f22" title=" " alt="" coords="606,122,811,149"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#afcb53badb258fa22181dca127a7e288b" title=" " alt="" coords="860,173,1065,199"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#a15764afe7f3ab656f7d814377f91ce4d" title=" " alt="" coords="605,223,812,250"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a870e6ad8d7e2dab189cb591dead19414" title=" " alt="" coords="369,173,539,215"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a55203ccaaba03d4dd739c2e6552be90e" title=" " alt="" coords="369,239,539,280"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a447d80a00c47ad2fb446e3653face38c" title=" " alt="" coords="1115,536,1284,577"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a75826cfc0cc24fd4902758bc1ad42c4b" title=" " alt="" coords="1115,471,1284,512"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a18a15867788b88db16f0938540107748" title=" " alt="" coords="624,844,793,885"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a9b538f82aabafa2d2f0e1a08edcf9b85" title=" " alt="" coords="878,731,1047,772"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#aeba4c2af91bcc996e159eebbb049c276" title=" " alt="" coords="624,625,793,667"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#adc5cd076f816ecca32c91c4fe3a2a57e" title=" " alt="" coords="878,593,1047,635"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#aa9a3cfeb1f895fce3c9b352200251d5f" title=" " alt="" coords="369,676,539,717"/>
<area shape="rect"  href="classRPGraph_1_1UGraph.html#a8cc5be5cfd41f351d4f98de816028f90" title=" " alt="" coords="351,793,557,835"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a6ec496912efecaa34efd4de6d88fc505" title=" " alt="" coords="878,796,1047,837"/>
<area shape="rect"  href="classRPGraph_1_1GraphLayout.html#a031dd59e25111ed175d6153d2cb44f9a" title=" " alt="" coords="878,659,1047,700"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="graph__viewer_8cpp.html">graph_viewer.cpp</a></li>
    <li class="footer">Generated on Sun Jun 16 2019 11:32:43 for GPUGraphLayout by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
